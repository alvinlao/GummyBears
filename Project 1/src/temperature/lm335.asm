;------------------------------------------------
; lm335.asm
;------------------------------------------------
; LM335 conversion functions
;------------------------------------------------
; Author: David Henderson
;------------------------------------------------
 
$NOLIST
CSEG
 
LM335Temp:
	db	0231
	db	0231
	db	0230
	db	0230
	db	0229
	db	0229 ;5
	db	0228
	db	0228
	db	0227
	db	0227
	db	0226
	db	0226 ;10
	db	0225
	db	0225
	db	0224
	db	0224
	db	0223
	db	0223
	db	0222
	db	0222
	db	0221
	db	0221
	db	0220
	db	0220
	db	0219
	db	0219
	db	0218
	db	0218
	db	0218
	db	0217
	db	0217
	db	0216
	db	0216
	db	0215
	db	0215
	db	0214
	db	0214
	db	0213
	db	0213
	db	0212
	db	0212
	db	0211
	db	0211
	db	0210
	db	0210
	db	0209
	db	0209
	db	0208
	db	0208
	db	0207
	db	0207
	db	0206
	db	0206
	db	0205
	db	0205
	db	0204
	db	0204
	db	0203
	db	0203
	db	0202
	db	0202
	db	0201
	db	0201
	db	0200
	db	0200
	db	0199
	db	0199
	db	0198
	db	0198
	db	0197
	db	0197
	db	0196
	db	0196
	db	0196
	db	0195
	db	0195
	db	0194
	db	0194
	db	0193
	db	0193
	db	0192
	db	0192
	db	0191
	db	0191
	db	0190
	db	0190
	db	0189
	db	0189
	db	0188
	db	0188
	db	0187
	db	0187
	db	0186
	db	0186
	db	0185
	db	0185
	db	0184
	db	0184
	db	0183
	db	0183
	db	0182
	db	0182
	db	0181
	db	0181
	db	0180
	db	0180
	db	0179
	db	0179
	db	0178
	db	0178
	db	0177
	db	0177
	db	0176
	db	0176
	db	0175
	db	0175
	db	0175
	db	0174
	db	0174
	db	0173
	db	0173
	db	0172
	db	0172
	db	0171
	db	0171
	db	0170
	db	0170
	db	0169
	db	0169
	db	0168
	db	0168
	db	0167
	db	0167
	db	0166
	db	0166
	db	0165
	db	0165
	db	0164
	db	0164
	db	0163
	db	0163
	db	0162
	db	0162
	db	0161
	db	0161
	db	0160
	db	0160
	db	0159
	db	0159
	db	0158
	db	0158
	db	0157
	db	0157
	db	0156
	db	0156
	db	0155
	db	0155
	db	0154
	db	0154
	db	0153
	db	0153
	db	0153
	db	0152
	db	0152
	db	0151
	db	0151
	db	0150
	db	0150
	db	0149
	db	0149
	db	0148
	db	0148
	db	0147
	db	0147
	db	0146
	db	0146
	db	0145
	db	0145
	db	0144
	db	0144
	db	0143
	db	0143
	db	0142
	db	0142
	db	0141
	db	0141
	db	0140
	db	0140
	db	0139
	db	0139
	db	0138
	db	0138
	db	0137
	db	0137
	db	0136
	db	0136
	db	0135
	db	0135
	db	0134
	db	0134
	db	0133
	db	0133
	db	0132
	db	0132
	db	0131
	db	0131
	db	0131
	db	0130
	db	0130
	db	0129
	db	0129
	db	0128
	db	0128
	db	0127
	db	0127
	db	0126
	db	0126
	db	0125
	db	0125
	db	0124
	db	0124
	db	0123
	db	0123
	db	0122
	db	0122
	db	0121
	db	0121
	db	0120
	db	0120
	db	0119
	db	0119
	db	0118
	db	0118
	db	0117
	db	0117
	db	0116
	db	0116
	db	0115
	db	0115
	db	0114
	db	0114
	db	0113
	db	0113
	db	0112
	db	0112
	db	0111
	db	0111
	db	0110
	db	0110
	db	0109
	db	0109
	db	0109
	db	0108
	db	0108
	db	0107
	db	0107
	db	0106
	db	0106
	db	0105
	db	0105
	db	0104
	db	0104
	db	0103
	db	0103
	db	0102
	db	0102
	db	0101
	db	0101
	db	0100
	db	0100
	db	0099
	db	0099
	db	0098
	db	0098
	db	0097
	db	0097
	db	0096
	db	0096
	db	0095
	db	0095
	db	0094
	db	0094
	db	0093
	db	0093
	db	0092
	db	0092
	db	0091
	db	0091
	db	0090
	db	0090
	db	0089
	db	0089
	db	0088
	db	0088
	db	0088
	db	0087
	db	0087
	db	0086
	db	0086
	db	0085
	db	0085
	db	0084
	db	0084
	db	0083
	db	0083
	db	0082
	db	0082
	db	0081
	db	0081
	db	0080
	db	0080
	db	0079
	db	0079
	db	0078
	db	0078
	db	0077
	db	0077
	db	0076
	db	0076
	db	0075
	db	0075
	db	0074
	db	0074
	db	0073
	db	0073
	db	0072
	db	0072
	db	0071
	db	0071
	db	0070
	db	0070
	db	0069
	db	0069
	db	0068
	db	0068
	db	0067
	db	0067
	db	0066
	db	0066
	db	0066
	db	0065
	db	0065
	db	0064
	db	0064
	db	0063
	db	0063
	db	0062
	db	0062
	db	0061
	db	0061
	db	0060
	db	0060
	db	0059
	db	0059
	db	0058
	db	0058
	db	0057
	db	0057
	db	0056
	db	0056
	db	0055
	db	0055
	db	0054
	db	0054
	db	0053
	db	0053
	db	0052
	db	0052
	db	0051
	db	0051
	db	0050
	db	0050
	db	0049
	db	0049
	db	0048
	db	0048
	db	0047
	db	0047
	db	0046
	db	0046
	db	0045
	db	0045
	db	0044
	db	0044
	db	0044
	db	0043
	db	0043
	db	0042
	db	0042
	db	0041
	db	0041
	db	0040
	db	0040
	db	0039
	db	0039
	db	0038
	db	0038
	db	0037
	db	0037
	db	0036
	db	0036
	db	0035
	db	0035
	db	0034
	db	0034
	db	0033
	db	0033
	db	0032
	db	0032
	db	0031
	db	0031
	db	0030
	db	0030
	db	0029
	db	0029
	db	0028
	db	0028
	db	0027
	db	0027
	db	0026
	db	0026
	db	0025
	db	0025
	db	0024
	db	0024
	db	0023
	db	0023
	db	0023
	db	0022
	db	0022
	db	0021
	db	0021
	db	0020
	db	0020
	db	0019
	db	0019
	db	0018
	db	0018
	db	0017
	db	0017
	db	0016
	db	0016
	db	0015
	db	0015
	db	0014
	db	0014
	db	0013
	db	0013
	db	0012
	db	0012
	db	0011
	db	0011
	db	0010
	db	0010
	db	0009
	db	0009
	db	0008
	db	0008
	db	0007
	db	0007
	db	0006
	db	0006
	db	0005
	db	0005
	db	0004
	db	0004
	db	0003
	db	0003
	db	0002
	db	0002
	db	0001
	db	0001
	db	0001
	db	0000
	db	0000
	db	0001
	db	0001
	db	0002
	db	0002
	db	0003
	db	0003
	db	0004
	db	0004
	db	0005
	db	0005
	db	0006
	db	0006
	db	0007
	db	0007
	db	0008
	db	0008
	db	0009
	db	0009
	db	0010
	db	0010
	db	0011
	db	0011
	db	0012
	db	0012
	db	0013
	db	0013
	db	0014
	db	0014
	db	0015
	db	0015
	db	0016
	db	0016
	db	0017
	db	0017
	db	0018
	db	0018
	db	0019
	db	0019
	db	0020
	db	0020
	db	0021
	db	0021
	db	0021
	db	0022
	db	0022
	db	0023
	db	0023
	db	0024
	db	0024
	db	0025
	db	0025
	db	0026
	db	0026
	db	0027
	db	0027
	db	0028
	db	0028
	db	0029
	db	0029
	db	0030
	db	0030
	db	0031
	db	0031
	db	0032
	db	0032
	db	0033
	db	0033
	db	0034
	db	0034
	db	0035
	db	0035
	db	0036
	db	0036
	db	0037
	db	0037
	db	0038
	db	0038
	db	0039
	db	0039
	db	0040
	db	0040
	db	0041
	db	0041
	db	0042
	db	0042
	db	0043
	db	0043
	db	0043
	db	0044
	db	0044
	db	0045
	db	0045
	db	0046
	db	0046
	db	0047
	db	0047
	db	0048
	db	0048
	db	0049
	db	0049
	db	0050
	db	0050
	db	0051
	db	0051
	db	0052
	db	0052
	db	0053
	db	0053
	db	0054
	db	0054
	db	0055
	db	0055
	db	0056
	db	0056
	db	0057
	db	0057
	db	0058
	db	0058
	db	0059
	db	0059
	db	0060
	db	0060
	db	0061
	db	0061
	db	0062
	db	0062
	db	0063
	db	0063
	db	0064
	db	0064
	db	0064
	db	0065
	db	0065
	db	0066
	db	0066
	db	0067
	db	0067
	db	0068
	db	0068
	db	0069
	db	0069
	db	0070
	db	0070
	db	0071
	db	0071
	db	0072
	db	0072
	db	0073
	db	0073
	db	0074
	db	0074
	db	0075
	db	0075
	db	0076
	db	0076
	db	0077
	db	0077
	db	0078
	db	0078
	db	0079
	db	0079
	db	0080
	db	0080
	db	0081
	db	0081
	db	0082
	db	0082
	db	0083
	db	0083
	db	0084
	db	0084
	db	0085
	db	0085
	db	0086
	
;------------------------------------------------
; + Public function	
;------------------------------------------------	
; temp [R0] findLM335Tempurature_lm335( voltage [R0, R1] )
;------------------------------------------------	
; INPUT: 
;	16bit voltage held as [R0 , R1]
;------------------------------------------------	
; OUTPUT: 
;	8bit temperature held in R0 (can range from 0 to 86)
;------------------------------------------------	
; Note: No math16 calls
;------------------------------------------------	
findLM335Tempurature_lm335:	
	clr c
	
	mov dptr, #LM335Temp

	mov a, dpl
	addc a , R1
	mov dpl , a 
	
	mov a, dph
	addc a , R0
	mov dph , a 
	
	clr a
	movc a , @a+dptr 
	mov R0 , a 	
	ret

$LIST